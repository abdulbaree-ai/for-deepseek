{% extends "base.html" %}

{% block content %}
    <h2 class="text-2xl font-semibold text-gray-800 mb-6">Edit Sale Record</h2>

    <div class="bg-white p-6 rounded-xl shadow-md mb-8">
        <h3 class="text-xl font-semibold text-gray-700 mb-4">Editing Sale ID: {{ sale[0] }}</h3>
        <form method="POST" action="{{ url_for('edit_sale', sale_id=sale[0]) }}" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
                <label for="date" class="block text-sm font-medium text-gray-700 mb-1">Date:</label>
                <input type="date" id="date" name="date" value="{{ sale[1] }}" required class="form-input w-full p-2 border border-gray-300 rounded-md focus:ring-primary-blue focus:border-primary-blue shadow-sm">
            </div>
            <div>
                <label for="item" class="block text-sm font-medium text-gray-700 mb-1">Item:</label>
                <input type="text" id="item" name="item" value="{{ sale[2] }}" required class="form-input w-full p-2 border border-gray-300 rounded-md focus:ring-primary-blue focus:border-primary-blue shadow-sm">
            </div>
            <div>
                <label for="category" class="block text-sm font-medium text-gray-700 mb-1">Category:</label>
                <select id="category" name="category" required class="form-select w-full p-2 border border-gray-300 rounded-md focus:ring-primary-blue focus:border-primary-blue shadow-sm">
                    <option value="Tickets" {% if sale[3] == 'Tickets' %}selected{% endif %}>Tickets</option>
                    <option value="Merchandise" {% if sale[3] == 'Merchandise' %}selected{% endif %}>Merchandise</option>
                    <option value="Food & Beverage" {% if sale[3] == 'Food & Beverage' %}selected{% endif %}>Food & Beverage</option>
                    <option value="Donations" {% if sale[3] == 'Donations' %}selected{% endif %}>Donations</option>
                    <option value="Events" {% if sale[3] == 'Events' %}selected{% endif %}>Events</option>
                    <option value="Other" {% if sale[3] == 'Other' %}selected{% endif %}>Other</option>
                </select>
            </div>
            <div>
                <label for="quantity" class="block text-sm font-medium text-gray-700 mb-1">Quantity:</label>
                <input type="number" id="quantity" name="quantity" step="0.01" min="0" value="{{ "%.2f"|format(sale[4]) }}" required class="form-input w-full p-2 border border-gray-300 rounded-md focus:ring-primary-blue focus:border-primary-blue shadow-sm">
            </div>
            <div class="sm:col-span-2">
                <label for="price" class="block text-sm font-medium text-gray-700 mb-1">Price per unit ($):</label>
                <input type="number" id="price" name="price" step="0.01" min="0" value="{{ "%.2f"|format(sale[5]) }}" required class="form-input w-full p-2 border border-gray-300 rounded-md focus:ring-primary-blue focus:border-primary-blue shadow-sm">
            </div>
            <div class="sm:col-span-2 flex justify-end gap-4 mt-4">
                <button type="submit" class="bg-primary-blue hover:bg-primary-blue/90 text-white font-semibold py-2 px-5 rounded-lg shadow-md transition-colors duration-200">Update Sale</button>
                <a href="{{ url_for('sales') }}" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-5 rounded-lg shadow-md transition-colors duration-200 text-center">Cancel</a>
            </div>
        </form>
    </div>
{% endblock %}
